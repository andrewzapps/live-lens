import{r as d,j as r,a as u,R as p}from"./client-Cw25wJni.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}})();const c="live-lens-openai-key";function f(){const[a,o]=d.useState(""),[l,n]=d.useState(!1);d.useEffect(()=>{chrome.storage.local.get([c],s=>{s[c]&&o(s[c])})},[]);const e=()=>{chrome.storage.local.set({[c]:a.trim()},()=>{n(!0),setTimeout(()=>n(!1),2e3)})},t=()=>{chrome.tabs.query({active:!0,currentWindow:!0},s=>{const i=s[0];i!=null&&i.id&&(chrome.tabs.sendMessage(i.id,{type:"LIVE_LENS_ACTIVATE"}).catch(()=>{}),window.close())})};return r.jsxs("div",{children:[r.jsx("h1",{style:{margin:"0 0 16px",fontSize:"18px"},children:"Live Lens"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"api-key",children:"OpenAI API key"}),r.jsx("input",{id:"api-key",type:"password",placeholder:"sk-...",value:a,onChange:s=>o(s.target.value)})]}),r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:l?"Saved":"Save key"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:t,style:{marginTop:"12px"},children:"Describe this page"}),r.jsxs("p",{className:"help",children:["Or use ",r.jsx("kbd",{children:"Alt+Shift+D"})," on any page to describe the page or a selected element."]})]})}u.createRoot(document.getElementById("root")).render(r.jsx(p.StrictMode,{children:r.jsx(f,{})}));
